package org.opentestsystem.rdw.reporting.common.jdbc;

import org.opentestsystem.rdw.reporting.common.model.StudentContext;

import java.sql.ResultSet;
import java.sql.SQLException;

import static org.opentestsystem.rdw.reporting.common.jdbc.QueryUtils.getNullable;

public class StudentContexts {
    private StudentContexts() {
    }

    public static <T extends StudentContext.Builder> T map(final ResultSet row, final T builder) throws SQLException {
        builder
                .iep(row.getBoolean("iep"))
                .lep(row.getBoolean("lep"))
                .section504(row.getBoolean("section504"))
                .elasCode(getNullable(row, row.getString("elas_code")))
                .migrantStatus(getNullable(row, row.getBoolean("migrant_status")));

        return builder;
    }
}

package org.opentestsystem.rdw.reporting.processor;

import org.opentestsystem.rdw.reporting.common.model.Report;
import org.opentestsystem.rdw.reporting.common.model.Student;
import org.opentestsystem.rdw.reporting.common.report.SchoolGradeExamReportRequest;

import java.net.URI;
import java.time.Instant;
import java.util.UUID;

import static com.google.common.collect.ImmutableSortedSet.of;
import static org.opentestsystem.rdw.reporting.common.model.ReportStatus.PENDING;

/**
 *
 */
public class MockBuilder {

    public static Report report() {
        return report(null);
    }

    public static Report report(final Long reportId) {
        final SchoolGradeExamReportRequest reportRequest = SchoolGradeExamReportRequest.builder()
                .gradeId(1)
                .schoolId(2L)
                .schoolYear(2017)
                .build();
        return Report.builder()
                .id(reportId)
                .created(Instant.now())
                .user("user")
                .label("label")
                .reportResourceUri(URI.create("/reports/123"))
                .jobExecutionId(123L)
                .status(PENDING)
                .reportRequest(reportRequest)
                .build();
    }

    public static Student student() {
        return student(123L);
    }

    public static Student student(final long studentId) {
        return Student.builder()
                .id(studentId)
                .ssid(UUID.randomUUID().toString())
                .firstName("first")
                .lastName("last")
                .genderCode("M")
                .ethnicityCodes(of("eth1", "eth2"))
                .build();
    }
}

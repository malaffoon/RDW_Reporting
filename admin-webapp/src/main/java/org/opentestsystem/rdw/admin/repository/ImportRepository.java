package org.opentestsystem.rdw.admin.repository;

import org.opentestsystem.rdw.common.model.ImportContent;
import org.opentestsystem.rdw.common.model.ImportStatus;

/**
 * This repository is responsible for working with imports.
 */
public interface ImportRepository {

    /**
     * Create an Import record to associate with new data;
     * the record is created with status ACCEPTED
     *
     * @param content     import content
     * @param contentType import content type (max 250-character string);
     *                    although originally intended for media types this may be any text
     * @param digest      import digest (max 32-character string)
     * @param batch       import batch (max 250-character string)
     * @return The created import id
     */
    long create(final ImportContent content, final String contentType, String digest, String batch);

    /**
     * Update the given Import record to the PROCESSED status.
     *
     * @param importId The import id
     */
    void setProcessed(long importId);

    /**
     * Update the given Import record to the specified status with optional message
     *
     * @param importId import id
     * @param status   import status
     * @param message  optional message
     */
    void setStatus(long importId, ImportStatus status, String message);
}

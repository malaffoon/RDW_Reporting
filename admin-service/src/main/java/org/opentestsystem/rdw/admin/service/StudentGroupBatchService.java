package org.opentestsystem.rdw.admin.service;

import org.opentestsystem.rdw.admin.model.StudentGroupBatch;
import org.opentestsystem.rdw.reporting.common.web.security.User;
import org.springframework.security.access.prepost.PreAuthorize;
import org.springframework.web.multipart.MultipartFile;

import javax.validation.constraints.NotNull;

/**
 * Service responsible for managing {@link StudentGroupBatch}s
 */
@PreAuthorize("hasAuthority('PERM_GROUP_WRITE')")
public interface StudentGroupBatchService {

    /**
     * Returns all {@link StudentGroupBatch}s that have the given user as a creator
     *
     * @param user the user
     * @return the list of found {@link StudentGroupBatch}s
     */
    Iterable<StudentGroupBatch> findAllStudentGroupBatches(@NotNull User user);

    /**
     * Uploads the given file and creates a new {@link StudentGroupBatch}
     *
     * @param user the user that uploads the file
     * @param file the file to be uploaded
     * @return the newly created {@link StudentGroupBatch}
     */
    StudentGroupBatch upload(@NotNull User user, MultipartFile file);
}

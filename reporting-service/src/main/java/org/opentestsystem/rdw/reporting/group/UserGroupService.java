package org.opentestsystem.rdw.reporting.group;

import org.opentestsystem.rdw.reporting.common.web.security.User;
import org.springframework.security.access.prepost.PreAuthorize;

import javax.validation.constraints.NotNull;
import java.util.Set;

/**
 * Service responsible for managing teacher created groups
 */
@PreAuthorize("hasAuthority('PERM_GROUP_PII_READ') and @userGroupAuthorizationService.isAuthorized(#user)")
public interface UserGroupService {

    /**
     * Gets all groups the given user created
     *
     * @param user the user who created the groups
     * @return all groups the given user created
     */
    Set<Group> getGroups(@NotNull User user);

    /**
     * Gets the group for the given user and group ID
     *
     * @param user the user who created the groups
     * @param groupId the group entity ID
     * @return the group for the given user and group ID
     */
    Group getGroup(@NotNull User user, long groupId);

    /**
     * Creates the given user defined group
     *
     * @param user the user creating the group
     * @param group the group to save
     * @return the created group with the assigned entity ID
     */
    Group createGroup(@NotNull User user, @NotNull Group group);

    /**
     * Updates the given user defined group
     *
     * @param user the user creating the group
     * @param group the group to save
     */
    void updateGroup(@NotNull User user, @NotNull Group group);

    /**
     * Deletes group for the given user and group ID
     *
     * @param user the user to delete the group for
     * @param groupId the ID of the group to delete
     */
    void deleteGroup(@NotNull User user, long groupId);

}

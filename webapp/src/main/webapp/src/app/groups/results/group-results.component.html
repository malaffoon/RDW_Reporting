<div class="pad-top-20 container">
  <h2><i class="fa fa-group color-green"></i> {{'labels.groups.name' | translate}}</h2>
  <div class="panel panel-default">
    <div class="panel-body">
      <div class="col-md-4">
        <label for="select-group">{{'labels.groups.results.select-group' | translate}}</label>

        <!--TODO: type ahead? -->
        <select id="select-group" [(ngModel)]="currentGroup" (change)="updateRoute($event)" class="dropdown form-control">
          <option *ngFor="let group of groups" [ngValue]="group">{{group.name}}</option>
        </select>
      </div>
      <div class="col-md-2">
        <label for="school-year">{{'labels.groups.results.select-year' | translate}}</label>
        <select id="school-year" [(ngModel)]="filterBy.schoolYear" (change)="updateRoute($event)" class="dropdown form-control">
          <option *ngFor="let year of availableSchoolYears" [ngValue]="year">{{year | schoolYear}}</option>
        </select>
      </div>
      <div class="col-md-6">
        <div class="pull-right">
          <label for="advanced">{{'labels.groups.results.adv-filters-label' | translate}}</label>
          <button id="advanced" class="form-control">{{'labels.groups.results.adv-filters-button' | translate}} <i
            class="fa fa-chevron-down" aria-hidden="true"></i></button>
        </div>

      </div>
    </div>
    <div class="panel-footer overflow-hidden pad-bottom-md">

      <div class="col-md-12">
        <h4 class="margin-bottom-0">
          <i class="fa fa-list-alt"></i> {{'labels.groups.results.selected-assessments-title' | translate}}
          <div class="pull-right">
            <div class="btn-group" role="group">
              <button type="radio" class="btn btn-default active">{{'labels.groups.results.filter-type-recent' |
                translate}}
              </button>
              <button type="radio" class="btn btn-default">{{'labels.groups.results.filter-type-custom' | translate}}
              </button>
            </div>
          </div>
        </h4>
        <div class="spacer-v-sm">
          <small>{{'labels.groups.results.selected-assessments-instruct' | translate }}</small>
        </div>

        <button *ngFor="let assessmentExam of selectedAssessments" class="btn btn-default btn-xs pad-h-xxs spacer-h-sm spacer-v-sm">
          <span class="label bg-color-grade-{{assessmentExam.assessment.grade}}">{{'labels.groups.results.grade-prefix' | translate}}{{assessmentExam.assessment.grade}}</span>
          <span class="color-grade-{{assessmentExam.assessment.grade}} spacer-h-md"> {{assessmentExam.assessment.name}}</span>
          <i class="fa fa-minus-square color-gray icon-size-md"></i>
        </button>
        <button class="btn btn-default btn-xs btn-round spacer-v-sm">
          <i class="fa fa-plus color-gray"></i>
        </button>

      </div>
    </div>
  </div>

  <div>
    <h2>{{'labels.groups.results.title' | translate}}</h2>
    <div class="pull-right">
      <label for="value-format">{{'labels.groups.results.value-as' | translate }} </label>
      <div id="value-format" class="btn-group" role="group">
        <button type="radio" (click)="showValuesAsPercent = true" [ngClass]="{'active':showValuesAsPercent}" class="btn btn-default btn-sm"  >{{'labels.groups.results.value-as-percent' | translate}}</button>
        <button type="radio" (click)="showValuesAsPercent = false" [ngClass]="{'active':!showValuesAsPercent}" class="btn btn-default btn-sm">{{'labels.groups.results.value-as-number' | translate}}</button>
      </div>
    </div>
  </div>
  <div *ngFor="let assessment of selectedAssessments">
    <assessment-results [assessmentExam]="assessment" [showValuesAsPercent]="showValuesAsPercent"></assessment-results>
  </div>
  <div *ngIf="selectedAssessments.length == 0">
    <p>
      {{'messages.no-results-found' | translate}}
    </p>
  </div>

</div>

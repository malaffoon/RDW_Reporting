<page-heading>
  <ng-template #heading>
    <h1>{{'home.title' | translate}}</h1>
  </ng-template>
  <ng-template #content>
    <ul class="list-unstyled list-inline">
      <li *hasPermission="'CUSTOM_AGGREGATE_READ'">
        <a routerLink="/aggregate-reports"
           class="btn btn-xs btn-default">
          {{'aggregate-report-form.heading' | translate}}
        </a>
      </li>
      <li *hasPermission="'INDIVIDUAL_PII_READ'">
        <a routerLink="/custom-export"
           class="btn btn-xs btn-default">
          <i class="fa fa-bold fa-table"></i>
          {{'organization-export.title' | translate}}
        </a>
      </li>
      <li *hasAnyPermission="['GROUP_WRITE', 'INSTRUCTIONAL_RESOURCE_WRITE', 'EMBARGO_WRITE']">
        <admin-dropdown></admin-dropdown>
      </li>
    </ul>
  </ng-template>
</page-heading>

<div class="row">

  <!-- Left Column Content Area -->
  <div class="col-md-9">

    <div *hasAnyPermission="['GROUP_PII_READ', 'INDIVIDUAL_PII_READ', 'GROUP_PII_READ']; else noPermissions">
      <div *hasPermission="'GROUP_PII_READ'"
           class="well">
        <student-search></student-search>
      </div>

      <div *hasPermission="'INDIVIDUAL_PII_READ'"
           class="well">
        <school-grade></school-grade>
      </div>

      <ng-container *hasPermission="'GROUP_PII_READ'">
        <group-tabs></group-tabs>
      </ng-container>
    </div>

  </div>

  <!-- Right Column Content Area -->
  <div class="col-md-3">

    <!-- Welcome Content -->
    <div *ngIf="applicationSettings" class="welcome-container well">
      <p class="lead">{{'home.welcome.title' | translate}}</p>
      <div class="mb-md">
        <p [innerHTML]="'home.welcome.user-guide-html' | translate:applicationSettings"></p>
        <a href="{{applicationSettings.userGuideUrl}}" target="_blank" class="btn btn-primary">{{'common.navigation.user-guide' | translate}}</a>
      </div>
      <div>
        <p [innerHTML]="'home.welcome.interpretive-guide-html' | translate:applicationSettings"></p>
        <a href="{{applicationSettings.interpretiveGuideUrl}}" target="_blank" class="btn btn-success">
          <small>{{'home.welcome.interpretive-guide-subtitle' | translate}}</small>
          <br>
          {{'common.navigation.interpretive-guide' | translate}}
        </a>
      </div>
    </div>
    <!-- Summary News Dynamic Content -->
    <div [innerHTML]="'html.system-news' | translate"></div>
  </div>
</div>

<ng-template #noPermissions>
  <div class="well">
    <label [innerHTML]="'home.no-permissions' | translate"></label>
  </div>
</ng-template>
